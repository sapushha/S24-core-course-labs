# Output Of Commands Lab 5

```bash
ansible-playbook playbooks/dev/main.yml --diff


PLAY [Docker Playbook] **********************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install `pip`] ***************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install required system packages] ********************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Add Docker's GPG key] ********************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Add Docker Repository] *******************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install Docker] **************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install Docker Compose] ******************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

PLAY RECAP **********************************************************************************************************************************************************************************************************************************************************************************************************
host195         : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
```

```bash
ansible-inventory --list

{
    "_meta": {
        "hostvars": {
            "host195": {
                "ansible_host": "79.174.83.76",
                "ansible_user": "root"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "regru"
        ]
    },
    "regru": {
        "hosts": [
            "host195"
        ]
    }
}
```

# Output Of Commands Lab 6

```bash
ansible-playbook playbooks/dev/main.yml --diff

PLAY [Deploying docker image] *******************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install `pip`] ***************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Add Docker's GPG key] ********************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Add Docker Repository] *******************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install Docker] **************************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [docker : Install Docker Compose] ******************************************************************************************************************************************************************************************************************************************************************************
ok: [host195]

TASK [web_app : Create directory for compose] ***********************************************************************************************************************************************************************************************************************************************************************
--- before
+++ after
@@ -1,4 +1,4 @@
 {
     "path": "/root/sapushha_flask_app",
-    "state": "absent"
+    "state": "directory"
 }

changed: [host195]

TASK [web_app : Stop containers] ********************************************************************************************************************************************************************************************************************************************************************************
fatal: [host195]: FAILED! => {"changed": false, "msg": "\"/root/sapushha_flask_app\" does not contain compose.yaml, compose.yml, docker-compose.yaml, or docker-compose.yml"}
...ignoring

TASK [web_app : Render docker-compose.yml] **************************************************************************************************************************************************************************************************************************************************************************
--- before
+++ after: /Users/smash/.ansible/tmp/ansible-local-843652rtxvjnq/tmpm1yvld34/docker-compose.yml.j2
@@ -0,0 +1,4 @@
+services:
+  web_app:
+    image: sapushha/sapushha_flask_app:ansible
+    ports: ['8080:8080']
\ No newline at end of file

changed: [host195]

TASK [web_app : Docker compose] ********************************************************************************************************************************************************************************************************************************************************************************************
changed: [host195]

TASK [web_app : Wipe image] *****************************************************************************************************************************************************************************************************************************************************************************************
skipping: [host195]

TASK [web_app : Remove compose file] ********************************************************************************************************************************************************************************************************************************************************************************
skipping: [host195]

PLAY RECAP **********************************************************************************************************************************************************************************************************************************************************************************************************
host195         : ok=11   changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=1
```